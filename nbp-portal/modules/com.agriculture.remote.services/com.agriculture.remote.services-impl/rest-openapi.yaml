components:
  schemas:
    AgricultureApplicationStages:
      description: Contain all data for Agriculture Application Stage.
      properties:
        caseId:
          description: CaseId generated by BPM
          type: string
        stageName:
          description: Name of the Agriculture application stage.
          enum: [Data Verification,Inspection (RADA),Referral to JCA,JCA Recommendations,Issuance of Permit(Exemption Certificate) or Refusal Letter]
          type: string
        stageStartDate:
          description: Start date of Agriculture application stage
          type: string
          format: date-time
        stageEndDate:
          description: End date of Agriculture application stage
          type: string
          format: date-time
        duration:
          description: Total duration of stage between started and end date.
          type: string
        status:
          description: status of the Agriculture application stage
          enum: [Open,In-Progress,On-Hold,Closed]
          type: string
      type: object
    AgricultureApplicationInspection:
      description: Contain all data for permit stage of agriculture application.
      properties:
        caseId:
          description: CaseId generated by BPM
          type: string
        dateofInspection:
          description: Date of Issue.
          type: string 
          format: date-time
      type: object
    AgricultureApplicationPermit:
      description: Contain all data for permit stage of agriculture application.
      properties:
        caseId:
          description: CaseId generated by BPM
          type: string
        pirPermitNumber:
          description: PIR Permit Number.
          type: string
        dateOfIssue:
          description: Date Of Issue.
          type: string
          format: date-time
        dateOfExpiration:
          description: Date Of Expiration.
          format: date-time
          type: string
        durationOfPermit:
          description: Duration Of Permit.
          type: string
        PIRPermitCertificate:
          description: Duration Of Permit.
          type: string
          format: binary      
      type: object   
openapi: 3.0.1
info:
    description: "Agriculture Stage REST API"
    license:
        name: "Apache 2.0"
        url: "http://www.apache.org/licenses/LICENSE-2.0.html"
    title: "Agriculture Stage Headless API"
    version: v1.0
paths:
  "/updateAgricultureApplicationStage":
    post:
      operationId: updateAgricultureApplicationStage
      tags: ["AgricultureApplicationStages"]
      description: Update a new Agriculture application stage.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgricultureApplicationStages"
          application/xml:
            schema:
              $ref: "#/components/schemas/AgricultureApplicationStages"
      responses:
        200:
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgricultureApplicationStages"
            application/xml:
              schema:
                $ref: "#/components/schemas/AgricultureApplicationStages"

  "/updateAgricultureApplicationInspection":
    post:
      operationId: updateAgricultureApplicationInspection
      tags: ["AgricultureApplicationInspection"]
      description: Update a new Agriculture application stage.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgricultureApplicationInspection"
          application/xml:
            schema:
              $ref: "#/components/schemas/AgricultureApplicationInspection"
      responses:
        200:
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgricultureApplicationInspection"
            application/xml:
              schema:
                $ref: "#/components/schemas/AgricultureApplicationInspection"  
                            
  "/updateAgricultureApplicationPermit/{caseId}":
      post:
        operationId: updateAgricultureApplicationPermit
        tags: ["AgricultureApplicationPermit"]
        description: Update agriculture condtional license
        parameters:
                - in: path
                  name: caseId
                  required: true
                  schema:
                      type: string
                - in: query
                  name: pirPermtNumber
                  schema:
                      type: string
                - in: query
                  name: dateofIssue
                  schema:
                      format: date-time
                      type: string
                - in: query
                  name: dateOfExpiration
                  schema:
                      format: date-time
                      type: string
                - in: query
                  name: durationOfPermit
                  schema:
                      type: string
        requestBody:
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/AgricultureApplicationPermit"
        responses:
          200:
            description: ""
            content:
              application/json:
                schema:
                  $ref: "#/components/schemas/AgricultureApplicationPermit"
              application/xml:
                schema:
                  $ref: "#/components/schemas/AgricultureApplicationPermit"                 